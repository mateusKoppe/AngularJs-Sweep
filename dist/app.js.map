{"version":3,"sources":["app.module.js","class/class.module.js","studants/studants.module.js","user/user.module.js","class/class.controller.js","class/class.factory.js","class/class.routes.js","class/dialogs/edit-studant.controller.js","class/first-time-controller.js","core/app.routes.js","core/materialTheme.config.js","core/passwordCheck.directive.js","pages/home.controller.js","studants/studants.factory.js","user/login.factory.js","user/sign.controller.js","user/user.factory.js","user/username.directive.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){\n    'use strick';\n\n    angular.module('app', [\n        'ngMaterial',\n        'ngMessages',\n        'ngAnimate',\n        'ui.router',\n        'app.user',\n        'app.class'\n    ])\n    .value('variables', {\n        \"urlApi\": 'http://localhost:8800',\n    });\n\n})();\n","(function(){\n    'use strict';\n\n    angular\n        .module('app.class', [\n            'ui.router',\n            'app.user',\n            'app.studants',\n        ])\n})();\n","(function(){\n    'use strict';\n    angular\n        .module('app.studants', [\n            'ui.router'\n        ])\n\n})();\n","(function(){\n    'use strict';\n    \n    angular\n        .module('app.user', [\n            'ui.router'\n        ])\n})();","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .controller('ClassController', ClassController);\n\n    function ClassController(\n            $state,\n            $mdDialog,\n            loginFactory,\n            userFactory,\n            orderByFilter,\n            classFactory,\n            studantsFactory\n        ) {\n        var vm = this;\n        vm.editStudants = editStudants;\n        vm.editStudantDialog = editStudantDialog;\n        vm.exit = exit;\n        vm.newStudantDialog = newStudantDialog;\n        vm.notSelected = notSelected;\n        vm.removeStudant = removeStudant;\n        vm.someoneStudant = someoneStudant;\n        vm.sweep = sweep;\n        vm.toggleSelecteds = toggleSelecteds;\n        vm.className = \"\";\n        vm.studants = [];\n\n        vm.$onInit = function () {\n            vm.className = classFactory.getActualClass().class_name;\n            loadStudants();\n        }\n\n        /* Private */\n        function loadStudants() {\n            studantsFactory.getStudantsByClass(classFactory.getActualClass())\n                .then(function(request){\n                    vm.studants = request.data;\n                });\n\n        }\n\n        function exit() {\n            $state.go('home');\n        }\n\n        function convertSelectsStudants(selecteds) {\n            var studantsKeys = [];\n            for (var key in selecteds) {\n                if (selecteds[key]) {\n                    studantsKeys.push(new Number(key));\n                }\n            }\n            var studantsSelects = [];\n            for (var key in studantsKeys) {\n                studantsSelects.push(vm.studants[studantsKeys[key]]);\n            }\n            return studantsSelects;\n        }\n\n        function orderStudants(studants) {\n            studants = angular.forEach(studants, function (studant) {\n                studant.times = +studant.times;\n            });\n            return orderByFilter(studants, ['times', 'name']);\n        }\n\n        function objectToArray(object) {\n            var array = [];\n            angular.forEach(object, function (item) {\n                array.push(item);\n            });\n            return array;\n        }\n\n        /* Publics */\n        function editStudantDialog($event, studants, callback) {\n            var body = angular.element(document.body);\n            studants = convertSelectsStudants(studants);\n            $mdDialog.show({\n                parent: body,\n                targetEvent: $event,\n                templateUrl: 'app/class/dialogs/edit-studant.html',\n                locals: {\n                    studants: angular.copy(studants),\n                    callback: callback\n                },\n                controller: 'EditStudantController',\n                controllerAs: 'vm'\n            });\n        }\n\n        /* Publics */\n        function editStudants(studants) {\n            studants.forEach(function (editStudant) {\n                var studantIndex = vm.studants.findIndex(function(studant) {\n                    return studant.id === editStudant.id;\n                });\n                vm.studants[studantIndex] = editStudant;\n            });\n            $mdDialog.hide();\n        }\n\n        function notSelected(swepper, value) {\n            return swepper != value;\n        }\n\n        function newStudantDialog(event) {\n            var confirm = $mdDialog.prompt()\n                .title('Cadastro')\n                .textContent('Preencha o campo abaixo para cadastrar um aluno.')\n                .placeholder('Aluno')\n                .ariaLabel('Aluno')\n                .targetEvent(event)\n                .ok('Adicionar')\n                .cancel('Cancelar');\n\n            $mdDialog.show(confirm).then(function (result) {\n                var data = {\n                    class: loginFactory.getUser().user_id,\n                    name: result\n                };\n                studantsFactory.create(data).then(function (result) {\n                    var studant = result.data;\n                    vm.studants.push({\n                        id: studant.studant_id,\n                        name: studant.studant_name,\n                        times: studant.studant_times,\n                    });\n                    vm.studants = orderStudants(vm.studants);\n                });\n            });\n        }\n\n        function removeStudant(studants) {\n            var studantsSelects = convertSelectsStudants(studants);\n            vm.selectedStudantes = [];\n            var promises = studantsFactory.removeStudants(studantsSelects)\n            promises.forEach(function(promise) {\n                promise.then(function(result) {\n                    var id = result.data.id\n                    var index = vm.studants.findIndex(function(studant) {\n                        return studant.id == id;\n                    })\n                    vm.studants.splice(index, 1);\n                });\n            })\n        }\n\n        function someoneStudant(studants) {\n            studants = objectToArray(studants);\n            return studants && studants.indexOf(true) != -1;\n        }\n\n        function sweep(studants) {\n            studants = objectToArray(studants);\n            studantsFactory.sweep(studants)\n                .then(function(studantsEditeds){\n                    studantsEditeds.forEach(function (editStudant) {\n                        var studantIndex = vm.studants.findIndex(function(studant) {\n                            return studant.id === editStudant.id;\n                        });\n                        vm.studants[studantIndex] = editStudant;\n                    });\n                    vm.studants = orderStudants(vm.studants);\n                });\n        }\n\n        function toggleSelecteds(studants, selected) {\n            if (selected) {\n                angular.copy({}, studants);\n            } else {\n                var i = 0;\n                var newSelect = {};\n                angular.forEach(vm.studants, function (studant) {\n                    newSelect[i++] = true;\n                });\n                angular.copy(newSelect, studants);\n            }\n        }\n    }\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .service('classFactory', classFactory);\n\n    function classFactory($http, variables) {\n        var _class = false;\n        var service = {\n            getClassByUser: getClassByUser,\n            updateClass: updateClass,\n            setActualClass: setActualClass,\n            getActualClass: getActualClass,\n        };\n        return service;\n\n        function getClassByUser(user) {\n            return $http.get(variables.urlApi + '/classByUser/' + user.user_id)\n                .then(function(response) {\n                    setActualClass(response.data);\n                    return response;\n                });\n        }\n\n        function updateClass(update) {\n            return $http.put(variables.urlApi + '/class/' + update.class_id, update)\n                .then(function(response) {\n                    setActualClass(response.data);\n                    return response;\n                });\n        }\n\n        function setActualClass(newClass){\n            _class = newClass;\n        }\n\n        function getActualClass(){\n            return _class;\n        }\n    }\n})();\n","(function(){\n    'use strict';\n\n    angular\n        .module('app.class')\n        .config(routes)\n\n        function routes($stateProvider){\n            $stateProvider\n                .state('class', {\n                    url: '/turma',\n                    templateUrl: 'app/class/class.html',\n                    controller: 'ClassController',\n                    controllerAs: 'vm',\n                    resolve: {\n                        userRoute: function($state, loginFactory, $q){\n                            if(!loginFactory.getUser()) $state.go('home');\n                            return loginFactory.getUser();\n                        },\n                        classRoute: function($state, classFactory, loginFactory){\n                            if(classFactory.getActualClass()){\n                                return classFactory.getActualClass();\n                            }\n                            return classFactory.getClassByUser(loginFactory.getUser())\n                                .then(response => {\n                                    if(!response.data.class_name){\n                                        $state.go('firstTime');\n                                    }\n                                    return response.data;\n                                });\n                        }\n                    }\n                })\n                .state('firstTime', {\n                    url: '/turma/primeiravisita',\n                    templateUrl: 'app/class/first-time.html',\n                    controller: 'FirstTimeController',\n                    controllerAs: 'vm',\n                    resolve: {\n                        userRoute: function($state, loginFactory, $q, $timeout){\n                            if(!loginFactory.getUser()) {\n                                $timeout(function(){\n                                    $state.go('home');\n                                });\n                            } else {\n                                return loginFactory.getUser();\n                            }\n                        }\n                    }\n                })\n        }\n\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .controller('EditStudantController', EditStudantController);\n\n    function EditStudantController(studants, callback, $mdDialog, studantsFactory) {\n        var vm = this;\n        vm.close = close;\n        vm.editStudants = editStudants;\n        vm.callbackEditStudant = callback;\n        vm.studants = studants;\n\n        function close() {\n            $mdDialog.hide();\n        }\n\n        function editStudants(editStudants, callback) {\n            studantsFactory.editStudants(editStudants).then(function(result) {\n                callback(result.data);\n            });\n        }\n\n    }\n\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .controller('FirstTimeController', FirstTimeController);\n\n    function FirstTimeController($state, loginFactory, classFactory) {\n        var vm = this;\n        vm.setClass = setClass;\n        vm.class = {};\n\n        vm.$onInit = function(){\n            classFactory.getClassByUser(loginFactory.getUser())\n                .then(function(response) {\n                    vm.class = response.data;\n                });\n        }\n\n        function setClass(className) {\n            vm.class.class_name = className;\n            classFactory.updateClass(vm.class)\n                .then(function() {\n                    $state.go('class');\n                });\n        }\n    }\n})();\n","(function(){\n    'use strick';\n\n    angular\n        .module('app')\n        .config(routes)\n\n    function routes ($locationProvider, $stateProvider, $urlRouterProvider) {\n        $stateProvider\n            .state({\n                name: 'home',\n                url: '/',\n                controller: \"homeController\",\n                controllerAs: \"homeVm\",\n                templateUrl: \"app/pages/home.html\"\n            });\n        $urlRouterProvider.otherwise('/');\n    }\n\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app')\n        .config(materialTheme)\n\n    function materialTheme($mdThemingProvider) {\n        $mdThemingProvider\n            .theme('default')\n            .primaryPalette('teal')\n            .accentPalette('indigo');\n    };\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app')\n        .directive('passwordCheck', passwordCheck);\n\n    function passwordCheck() {\n        var directive = {\n            require: 'ngModel',\n            link: link,\n            restrict: 'A',\n            scope: {\n                passwordCheck: \"=passwordCheck\"\n            },\n        };\n        return directive;\n\n        function link(scope, element, attrs, controller) {\n            controller.$validators.passwordCheck = function (modelValue, viewValue) {\n                return scope.passwordCheck === modelValue;\n            }\n        }\n    }\n})();\n","(function() {\n    'use strict';\n\n    angular\n        .module('app')\n        .controller('homeController', homeController);\n\n    function homeController($state, loginFactory, userFactory){\n        var vm = this;\n\n        //Variables\n        vm.signin = {};\n        vm.isUserAvailability = 1;\n        vm.userAction = 'login';\n\n        //Functions\n        vm.isAction = isAction;\n        vm.setAction = setAction;\n        vm.userCreated = userCreated;\n        vm.userLogged = userLogged;\n\n        //Publics\n        function isAction(action){\n            return vm.userAction === action;\n        }\n\n        function setAction(action){\n            vm.userAction = action;\n        }\n\n        function userCreated(user){\n            loginFactory.setUser(user);\n            $state.go('firstTime');\n        }\n\n        function userLogged(){\n            $state.go(\"class\");\n        }\n\n    }\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.studants')\n        .service('studantsFactory', studantsFactory);\n\n    function studantsFactory($http, variables, classFactory) {\n        var service = {\n            create: create,\n            editStudants: editStudants,\n            getStudantsByClass: getStudantsByClass,\n            removeStudants: removeStudants,\n            sweep: sweep\n        };\n        return service;\n\n        function create(data){\n            var classId = classFactory.getActualClass().class_id;\n            var url = variables.urlApi + \"/class/\" + classId + \"/studants\";\n            return $http.post(url, data);\n        }\n\n        function editStudants(studants){\n            var classId = classFactory.getActualClass().class_id;\n            var data = {studants: studants};\n            var url = variables.urlApi + \"/class/\" + classId + \"/studants\";\n            return $http.put(url, data);\n        }\n\n        function getStudantsByClass(classData){\n            var classId = classFactory.getActualClass().class_id;\n            var url = variables.urlApi + \"/class/\" + classId + \"/studants\";\n            return $http.get(url);\n        }\n\n        function removeStudants(studants){\n            var classId = classFactory.getActualClass().class_id;\n            return studants.map(function(studant) {\n                var url = variables.urlApi + \"/class/\" + classId + \"/studants/\" + studant.id;\n                return $http.delete(url);\n            });\n        }\n\n        function sweep(studants){\n            var sweepers = angular.copy(studants);\n            sweepers = sweepers.map(function(studant){\n                studant.times = (+studant.times) + 1;\n                return studant;\n            });\n            return editStudants(sweepers)\n                .then(function(response){\n                    return response.data;\n                });\n        }\n\n    }\n})();\n","(function(){\n    'use strict';\n\n    angular\n        .module('app.user')\n        .factory('loginFactory', loginFactory);\n\n    function loginFactory(){\n        var user = false;\n\n        var service = {\n            getUser: getUser,\n            setUser: setUser,\n            cleanUser: cleanUser\n        }\n        return service;\n\n        function getUser(){\n            return user;\n        }\n\n        function setUser(newUser){\n            user = newUser;\n        }\n\n        function cleanUser(){\n            setUser(false);\n        }\n\n    }\n})();\n","(function() {\n    'use strict';\n\n    angular\n        .module('app.user')\n        .controller('SignController', SignController);\n\n    function SignController($rootScope, $scope, userFactory, loginFactory){\n        var vm = this;\n        vm.create = create;\n        vm.login = login;\n        vm.logout = logout;\n\n        function create(user, form, success, error){\n            var userData = angular.copy(user);\n            angular.copy({}, user);\n            userFactory.create(userData).then(function(result){\n                if($scope[form]){\n                    $scope[form].$setUntouched();\n                    $scope[form].$setPristine();\n                }\n                success(result.data);\n            });\n        }\n\n        function login(user, form, success, error){\n            var userData = angular.copy(user);\n            angular.copy({}, user)\n            userFactory.login(userData).then(function(result){\n                if(result.data){\n                    if($scope[form]){\n                        $scope[form].$setUntouched();\n                        $scope[form].$setPristine();\n                    }\n                    loginFactory.setUser(result.data);\n                    success(result.data);\n                }\n            });\n        }\n\n        function logout(callback){\n            loginFactory.cleanUser();\n            callback();\n        }\n    }\n})();\n","(function () {\n    'use strict';\n    \n    angular\n        .module('app.user')\n        .service('userFactory', userFactory);\n\n    function userFactory($http, variables, $location, loginFactory) {\n        var service = {\n            checkAvailability: checkAvailability,\n            create: create,\n            defineClassName: defineClassName,\n            login: login\n        }\n        return service;\n\n        function checkAvailability(username) {\n            return $http.get(variables.urlApi + '/users/checkAvailability/' + username);\n        }\n\n        function create(data) {\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function defineClassName(data) {\n            data.action = \"defineClass\";\n            data.id = loginFactory.getUser().user_id;\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function login(data) {\n            return $http.post(variables.urlApi + '/login', data);\n        }\n\n    }\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.user')\n        .directive('username', username);\n\n    function username(userFactory, $timeout, $q) {\n        var directive = {\n            require: 'ngModel',\n            link: link,\n            restrict: 'A',\n        };\n        return directive;\n\n        function link(scope, element, attrs, controller) {\n            controller.$asyncValidators.username = function (modelValue, viewValue) {\n\n                var defer = $q.defer();\n\n                userFactory.checkAvailability(modelValue)\n                  .then(function (result) {\n                      if(result.data.available){\n                          defer.resolve();\n                      }else{\n                          defer.reject();\n                      }\n                  })\n\n                return defer.promise;\n            };\n        }\n    }\n})();\n"]}
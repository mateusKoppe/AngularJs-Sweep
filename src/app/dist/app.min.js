!function(){"use strick";angular.module("app",["ngMaterial","ngMessages","ngAnimate","ui.router","app.user","app.class"]).value("variables",{urlBase:"http://localhost:3000",urlApi:"http://localhost/sweep/API/"})}(),function(){"use strict";angular.module("app.class",["ui.router"])}(),function(){"use strict";angular.module("app.user",["ui.router"])}(),function(){"use strict";function e(e){var t=this;t.test="test",t.className=e.getUser().user_class}angular.module("app.class").controller("ClassController",e),e.$inject=["loginFactory"]}(),function(){"use strict";function e(e){e.state("class",{url:"/turma",templateUrl:"app/class/list.template.html",controller:"ClassController",controllerAs:"vm",onEnter:["$state","loginFactory",function(e,t){t.getUser()=={}&&e.go("home"),t.getUser().user_id||e.go("home"),t.getUser().user_class||e.go("firstTime")}]}).state("firstTime",{url:"/turma/primeiravisita",templateUrl:"app/class/first-time.template.html",controller:"FirstTimeController",controllerAs:"vm",onEnter:["$state","loginFactory",function(e,t){t.getUser()=={}&&e.go("home"),t.getUser().user_id||e.go("home"),t.getUser().user_class&&e.go("class")}]})}angular.module("app.class").config(e),e.$inject=["$stateProvider"]}(),function(){"use strict";function e(e,t,r){function n(n){var o={className:n};e.defineClassName(o),t.getUser().user_class=n,r.go("class")}var o=this;o.setClass=n}angular.module("app.class").controller("FirstTimeController",e),e.$inject=["userFactory","loginFactory","$state"]}(),function(){"use strick";function e(e,t,r){t.state({name:"home",url:"/",controller:"homeController",controllerAs:"homeVm",templateUrl:"app/pages/home.view.html"}),r.otherwise("/")}angular.module("app").config(e),e.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function e(e){e.theme("default").primaryPalette("teal").accentPalette("indigo")}angular.module("app").config(e),e.$inject=["$mdThemingProvider"]}(),function(){"use strict";function e(){function e(e,t,r,n){n.$validators.passwordCheck=function(t,r){return e.passwordCheck===t}}var t={require:"ngModel",link:e,restrict:"A",scope:{passwordCheck:"=passwordCheck"}};return t}angular.module("app").directive("passwordCheck",e),e.$inject=[]}(),function(){"use strict";function e(e,t){function r(e){return i.userAction===e}function n(e){i.userAction=e}function o(){n("login")}var i=this;i.signin={},i.isUserAvailability=1,i.userAction="login",i.isAction=r,i.setAction=n,i.userCreated=o}angular.module("app").controller("homeController",e),e.$inject=["$scope","$location"]}(),function(){"use strict";function e(){function e(){return r}function t(e){r=e}var r=!1,n={getUser:e,setUser:t};return n}angular.module("app.user").factory("loginFactory",e),e.$inject=[]}(),function(){"use strict";function e(e,t,r,n,o){function i(t,o){n.create(t).then(function(n){angular.copy({},t),e.$broadcast("userCreate"),r[o].$setUntouched(),r[o].$setPristine()})}function s(e,i,s){n.login(e).then(function(n){n.data&&(angular.copy({},e),o.setUser(n.data),r[i]&&(r[i].$setUntouched(),r[i].$setPristine()),t.go(s))})}var a=this;a.create=i,a.login=s}angular.module("app.user").controller("SignController",e),e.$inject=["$rootScope","$state","$scope","userFactory","loginFactory"]}(),function(){"use strict";function e(){function e(e,t,r){e.$on("userCreate",function(){e.userSingup()})}var t={link:e,restrict:"A",scope:{userSingup:"&"}};return t}angular.module("app.user").directive("userSingup",e),e.$inject=[]}(),function(){"use strict";function e(e,t,r,n){function o(r){var n={};return n.action="checkAvailability",n.username=r||"",e.post(t.urlApi+u,n)}function i(r){return r.action="create",e.post(t.urlApi+u,r)}function s(r){return r.action="defineClass",r.id=n.getUser().user_id,e.post(t.urlApi+u,r)}function a(r){return r.action="login",e.post(t.urlApi+u,r)}var u="user.php",c={checkAvailability:o,create:i,defineClassName:s,login:a};return c}angular.module("app.user").service("userFactory",e),e.$inject=["$http","variables","$location","loginFactory"]}(),function(){"use strict";function e(e,t,r){function n(t,n,o,i){i.$asyncValidators.username=function(t,n){var o=r.defer();return e.checkAvailability(t).then(function(e){e.data?o.resolve():o.reject()}),o.promise}}var o={require:"ngModel",link:n,restrict:"A"};return o}angular.module("app.user").directive("username",e),e.$inject=["userFactory","$timeout","$q"]}();
//# sourceMappingURL=app.min.js.map

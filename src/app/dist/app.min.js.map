{"version":3,"sources":["/src/app/app.module.js","/src/app/class/class.module.js","/src/app/user/user.module.js","/src/app/class/class.controller.js","/src/app/class/class.route.js","/src/app/class/first-time-controller.js","/src/app/core/app.routes.js","/src/app/core/materialTheme.config.js","/src/app/core/passwordCheck.directive.js","/src/app/pages/home.controller.js","/src/app/user/login.factory.js","/src/app/user/sign.controller.js","/src/app/user/user-create.directive.js","/src/app/user/user.factory.js","/src/app/user/username.directive.js"],"names":["angular","module","value","urlBase","urlApi","ClassController","loginFactory","vm","this","test","className","getUser","user_class","controller","$inject","routes","$stateProvider","state","url","templateUrl","controllerAs","onEnter","$state","go","user_id","config","FirstTimeController","userFactory","setClass","data","defineClassName","$locationProvider","$urlRouterProvider","name","otherwise","materialTheme","$mdThemingProvider","theme","primaryPalette","accentPalette","passwordCheck","link","scope","element","attrs","$validators","modelValue","viewValue","directive","require","restrict","homeController","$scope","$location","isAction","action","userAction","setAction","userCreated","signin","isUserAvailability","user","setUser","newUser","service","factory","SignController","$rootScope","create","form","then","result","copy","$broadcast","$setUntouched","$setPristine","login","redirect","userSingup","$on","$http","variables","checkAvailability","username","post","fileApi","id","$timeout","$q","$asyncValidators","defer","resolve","reject","promise"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){\r\n    'use strick';\r\n    \r\n    angular.module('app', [\r\n        'ngMaterial',\r\n        'ngMessages',\r\n        'ngAnimate',\r\n        'ui.router',\r\n        'app.user',\r\n        'app.class'\r\n    ])\r\n    .value('variables', {\r\n        \"urlBase\": 'http://localhost:3000',\r\n        \"urlApi\": 'http://localhost/sweep/API/',\r\n    });;\r\n    \r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.class', [\r\n            'ui.router' \r\n        ])\r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.user', [\r\n            'ui.router'\r\n        ])\r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.class')\r\n        .controller('ClassController', ClassController);\r\n    \r\n        ClassController.$inject = ['loginFactory'];\r\n        function ClassController(loginFactory){\r\n            var vm = this;\r\n            vm.test = \"test\";\r\n            vm.className = loginFactory.getUser().user_class;\r\n            \r\n        }\r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.class')\r\n        .config(routes)\r\n    \r\n        routes.$inject = ['$stateProvider'];\r\n        function routes($stateProvider){\r\n            $stateProvider\r\n                .state('class', {\r\n                    url: '/turma',\r\n                    templateUrl: 'app/class/list.template.html',\r\n                    controller: 'ClassController',\r\n                    controllerAs: 'vm',\r\n                    onEnter: ['$state', 'loginFactory',function($state, loginFactory){\r\n                        if(loginFactory.getUser() == {}) $state.go(\"home\");\r\n                        if(!loginFactory.getUser().user_id) $state.go(\"home\");\r\n                        if(!loginFactory.getUser().user_class) $state.go(\"firstTime\");\r\n                    }]\r\n                })\r\n                .state('firstTime', {\r\n                    url: '/turma/primeiravisita',\r\n                    templateUrl: 'app/class/first-time.template.html',\r\n                    controller: 'FirstTimeController',\r\n                    controllerAs: 'vm',\r\n                    onEnter: ['$state', 'loginFactory',function($state, loginFactory){\r\n                        if(loginFactory.getUser() == {}) $state.go(\"home\");\r\n                        if(!loginFactory.getUser().user_id) $state.go(\"home\");\r\n                        if(loginFactory.getUser().user_class) $state.go(\"class\");\r\n                    }]\r\n                })\r\n        }\r\n    \r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.class')\r\n        .controller('FirstTimeController', FirstTimeController);\r\n\r\n    FirstTimeController.$inject = ['userFactory', 'loginFactory', '$state'];\r\n\r\n    function FirstTimeController(userFactory, loginFactory, $state) {\r\n        var vm = this;\r\n        vm.setClass = setClass;\r\n\r\n        function setClass(className) {\r\n            var data = {\r\n                className: className\r\n            }\r\n            userFactory.defineClassName(data);\r\n            loginFactory.getUser().user_class = className;\r\n            $state.go('class');\r\n        }\r\n    }\r\n})();\r\n","(function(){\r\n    'use strick';\r\n\r\n    angular\r\n        .module('app')\r\n        .config(routes)\r\n    \r\n    routes.$inject = ['$locationProvider', '$stateProvider', '$urlRouterProvider'];\r\n    function routes ($locationProvider, $stateProvider, $urlRouterProvider) {\r\n        $stateProvider\r\n            .state({\r\n                name: 'home',\r\n                url: '/',\r\n                controller: \"homeController\",\r\n                controllerAs: \"homeVm\",\r\n                templateUrl: \"app/pages/home.view.html\" \r\n            });\r\n        $urlRouterProvider.otherwise('/');\r\n    }\r\n    \r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .config(materialTheme)\r\n\r\n    materialTheme.$inject = ['$mdThemingProvider'];\r\n\r\n    function materialTheme($mdThemingProvider) {\r\n        $mdThemingProvider\r\n            .theme('default')\r\n            .primaryPalette('teal')\r\n            .accentPalette('indigo');\r\n    };\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .directive('passwordCheck', passwordCheck);\r\n\r\n    passwordCheck.$inject = [];\r\n\r\n    /* @ngInject */\r\n    function passwordCheck() {\r\n        var directive = {\r\n            require: 'ngModel',\r\n            link: link,\r\n            restrict: 'A',\r\n            scope: {\r\n                passwordCheck: \"=passwordCheck\"\r\n            },\r\n        };\r\n        return directive;\r\n\r\n        function link(scope, element, attrs, controller) {\r\n            controller.$validators.passwordCheck = function (modelValue, viewValue) {\r\n                return scope.passwordCheck === modelValue;\r\n            }\r\n        }\r\n    }\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .controller('homeController', homeController);\r\n\r\n    homeController.$inject = ['$scope','$location'];\r\n\r\n    function homeController($scope , $location){\r\n        var vm = this;            \r\n        \r\n        //Variables\r\n        vm.signin = {};\r\n        vm.isUserAvailability = 1;\r\n        vm.userAction = 'login';  \r\n        \r\n        //Functions\r\n        vm.isAction = isAction;\r\n        vm.setAction = setAction;\r\n        vm.userCreated = userCreated;\r\n        \r\n        //Publics\r\n        function isAction(action){\r\n            return vm.userAction === action;\r\n        }\r\n        \r\n        function setAction(action){\r\n            vm.userAction = action;\r\n        }\r\n        \r\n        function userCreated(){\r\n            setAction('login');\r\n        }\r\n        \r\n    }\r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.user')\r\n        .factory('loginFactory', loginFactory);\r\n    \r\n    loginFactory.$inject = [];\r\n    function loginFactory(){\r\n        var user = false;\r\n        \r\n        var service = {\r\n            getUser: getUser,\r\n            setUser: setUser\r\n        }\r\n        return service;\r\n        \r\n        function getUser(){\r\n            return user;\r\n        }\r\n        \r\n        function setUser(newUser){\r\n            user = newUser;\r\n        }\r\n        \r\n    }\r\n})();","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.user')\r\n        .controller('SignController', SignController);\r\n\r\n\r\n    /* @ngInject */\r\n    SignController.$inject = ['$rootScope', '$state', '$scope','userFactory','loginFactory'];\r\n    function SignController($rootScope, $state, $scope, userFactory, loginFactory){\r\n        var vm = this;\r\n        \r\n        vm.create = create;\r\n        vm.login = login;\r\n        \r\n        function create(user, form){\r\n            userFactory.create(user).then(function(result){\r\n                angular.copy({}, user);\r\n                $rootScope.$broadcast('userCreate');\r\n                $scope[form].$setUntouched();\r\n                $scope[form].$setPristine();\r\n            });\r\n        }\r\n        \r\n        function login(user, form, redirect){\r\n            userFactory.login(user).then(function(result){\r\n                if(result.data){\r\n                    angular.copy({}, user);\r\n                    loginFactory.setUser(result.data);\r\n                    if($scope[form]){ \r\n                        $scope[form].$setUntouched();\r\n                        $scope[form].$setPristine();\r\n                    }\r\n                    $state.go(redirect);\r\n                }\r\n            });\r\n        }\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.user')\r\n        .directive('userSingup', userSingup);\r\n\r\n    userSingup.$inject = [];\r\n\r\n    /* @ngInject */\r\n    function userSingup() {\r\n        var directive = {\r\n            link: link,\r\n            restrict: 'A',\r\n            scope: {\r\n                userSingup: '&'\r\n            }\r\n        };\r\n        return directive;\r\n\r\n        function link(scope, element, attrs) {      \r\n            scope.$on('userCreate', function(){\r\n                scope.userSingup();\r\n            });\r\n        }\r\n    }\r\n\r\n})();","(function () {\r\n    'use strict';\r\n    angular\r\n        .module('app.user')\r\n        .service('userFactory', userFactory);\r\n\r\n    userFactory.$inject = ['$http','variables','$location', 'loginFactory'];\r\n\r\n    function userFactory($http, variables, $location, loginFactory){\r\n        var fileApi = \"user.php\";\r\n        \r\n        var service = {\r\n            checkAvailability: checkAvailability,\r\n            create: create,\r\n            defineClassName: defineClassName, \r\n            login: login\r\n        }\r\n        return service;\r\n        \r\n        function checkAvailability(username){\r\n            var data = {};\r\n            data.action = \"checkAvailability\";\r\n            data.username = username || \"\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        };\r\n        \r\n        function create(data) {\r\n            data.action = \"create\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        };\r\n        \r\n        function defineClassName(data){\r\n            data.action = \"defineClass\";\r\n            data.id = loginFactory.getUser().user_id;\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        }\r\n        \r\n        function login(data){\r\n            data.action = \"login\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        };\r\n        \r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.user')\r\n        .directive('username', username);\r\n\r\n    username.$inject = ['userFactory', '$timeout', '$q'];\r\n\r\n    function username(userFactory, $timeout, $q) {\r\n        var directive = {\r\n            require: 'ngModel',\r\n            link: link,\r\n            restrict: 'A',\r\n        };\r\n        return directive;\r\n\r\n        function link(scope, element, attrs, controller) {\r\n            controller.$asyncValidators.username = function (modelValue, viewValue) {\r\n                \r\n                var defer = $q.defer();\r\n                \r\n                userFactory.checkAvailability(modelValue).then(function (result) {\r\n                    if(result.data){\r\n                        defer.resolve();\r\n                    }else{\r\n                        defer.reject();\r\n                    }\r\n                })\r\n                \r\n                return defer.promise;\r\n            };\r\n        }\r\n    }\r\n})();\r\n"]}
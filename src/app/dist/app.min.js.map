{"version":3,"sources":["/src/app/app.module.js","/src/app/user/user.module.js","/src/app/core/config/materialTheme.config.js","/src/app/core/directives/passwordCheck/passwordCheck.directive.js","/src/app/core/value/variables.value.js","/src/app/home/home.controller.js","/src/app/home/home.routes.js","/src/app/user/user.controller.js","/src/app/user/user.service.js","/src/app/user/username.directive.js"],"names":["angular","module","materialTheme","$mdThemingProvider","theme","primaryPalette","accentPalette","config","$inject","passwordCheck","link","scope","element","attrs","controller","$validators","modelValue","viewValue","directive","require","restrict","value","urlBase","urlApi","homeController","$scope","userService","activate","isAction","action","vm","userAction","setAction","userCreate","create","signin","then","result","signinForm","$setUntouched","userLogin","login","data","this","isUserAvailability","routes","$stateProvider","state","name","url","controllerAs","templateUrl","$http","variables","$location","checkAvailability","username","post","fileApi","authenticated","path","service","$timeout","$q","$asyncValidators","defer","resolve","reject","promise"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){\r\n    'use strick';\r\n    \r\n    angular.module('app', [\r\n        'ngMaterial',\r\n        'ngMessages',\r\n        'ngAnimate',\r\n        'ui.router',\r\n        'app.user'\r\n    ]);\r\n    \r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.user', [\r\n            'ui.router'\r\n        ])\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .config(materialTheme)\r\n\r\n    materialTheme.$inject = ['$mdThemingProvider'];\r\n\r\n    function materialTheme($mdThemingProvider) {\r\n        $mdThemingProvider\r\n            .theme('default')\r\n            .primaryPalette('teal')\r\n            .accentPalette('indigo');\r\n    };\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .directive('passwordCheck', passwordCheck);\r\n\r\n    passwordCheck.$inject = [];\r\n\r\n    /* @ngInject */\r\n    function passwordCheck() {\r\n        var directive = {\r\n            require: 'ngModel',\r\n            link: link,\r\n            restrict: 'A',\r\n            scope: {\r\n                passwordCheck: \"=passwordCheck\"\r\n            },\r\n        };\r\n        return directive;\r\n\r\n        function link(scope, element, attrs, controller) {\r\n            controller.$validators.passwordCheck = function (modelValue, viewValue) {\r\n                return scope.passwordCheck === modelValue;\r\n            }\r\n        }\r\n    }\r\n})();\r\n","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .value('variables', {\r\n            \"urlBase\": 'http://localhost:3000',\r\n            \"urlApi\": 'http://localhost/sweep/API/',\r\n        });\r\n})();\r\n","(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app')\r\n        .controller('homeController', homeController);\r\n\r\n    homeController.$inject = ['$scope','userService'];\r\n\r\n    /* @ngInject */\r\n    function homeController($scope ,userService){\r\n        var vm = this;            \r\n        \r\n        //Variables\r\n        vm.signin = {};\r\n        vm.isUserAvailability = 1;\r\n        vm.userAction = 'login';  \r\n        \r\n        //Functions\r\n        vm.isAction = isAction;\r\n        vm.setAction = setAction;\r\n        vm.userCreate = userCreate;\r\n        vm.userLogin = userLogin;\r\n        \r\n        activate();\r\n\r\n        ////////////////\r\n\r\n        // Init function\r\n        function activate() {\r\n            \r\n        }\r\n        \r\n        //Publics\r\n                \r\n        function isAction(action){\r\n            return vm.userAction === action;\r\n        }\r\n        \r\n        function setAction(action){\r\n            vm.userAction = action;\r\n        }\r\n        \r\n        function userCreate(){\r\n            userService.create(vm.signin).then(function(result){\r\n                vm.signin = {};\r\n                $scope.signinForm.$setUntouched();\r\n                vm.userAction = 'login';\r\n            });\r\n        }\r\n        \r\n        function userLogin(){\r\n            userService.login(vm.login).then(function(result){\r\n                vm.login = {};\r\n                if(result.data){\r\n                    \r\n                }\r\n            });\r\n        }\r\n    }\r\n})();","(function(){\r\n    'use strick';\r\n\r\n    angular\r\n        .module('app')\r\n        .config(routes)\r\n    \r\n    routes.$inject = ['$stateProvider'];\r\n    function routes ($stateProvider) {\r\n        $stateProvider\r\n            .state({\r\n                name: 'home',\r\n                url: '',\r\n                controller: \"homeController\",\r\n                controllerAs: \"homeVm\",\r\n                templateUrl: \"app/home/home.view.html\" \r\n            });\r\n    }\r\n    \r\n})();","(function(){\r\n    'use strict';\r\n    \r\n    angular\r\n        .module('app.user')\r\n        .controller('userController', homeController);\r\n        \r\n        homeController.$inject = [];\r\n        function homeController(){\r\n            \r\n        }\r\n})();","(function () {\r\n    'use strict';\r\n    angular\r\n        .module('app.user')\r\n        .service('userService', userService);\r\n\r\n    userService.$inject = ['$http','variables','$location'];\r\n\r\n    function userService($http, variables, $location){\r\n        this.checkAvailability = checkAvailability;\r\n        this.create = create;\r\n        this.login = login;\r\n        this.authenticated = authenticated;\r\n\r\n        var fileApi = \"user.php\";\r\n        \r\n        ////////////////\r\n\r\n        function checkAvailability(username){\r\n            var data = {};\r\n            data.action = \"checkAvailability\";\r\n            data.username = username || \"\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        }\r\n        \r\n        function create(data) {\r\n            data.action = \"create\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        };\r\n        \r\n        function login(data){\r\n            data.action = \"login\";\r\n            return $http.post(variables.urlApi + fileApi, data);\r\n        }\r\n        \r\n        function authenticated(){\r\n            $location.path('/dashboard');\r\n        }\r\n    }\r\n})();","(function () {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('app.user')\r\n        .directive('username', username);\r\n\r\n    username.$inject = ['userService', '$timeout', '$q'];\r\n\r\n    function username(userService, $timeout, $q) {\r\n        var directive = {\r\n            require: 'ngModel',\r\n            link: link,\r\n            restrict: 'A',\r\n        };\r\n        return directive;\r\n\r\n        function link(scope, element, attrs, controller) {\r\n            controller.$asyncValidators.username = function (modelValue, viewValue) {\r\n                \r\n                var defer = $q.defer();\r\n                \r\n                userService.checkAvailability(modelValue).then(function (result) {\r\n                    if(result.data){\r\n                        defer.resolve();\r\n                    }else{\r\n                        defer.reject();\r\n                    }\r\n                })\r\n                \r\n                return defer.promise;\r\n            };\r\n        }\r\n    }\r\n})();\r\n"]}
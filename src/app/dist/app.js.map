{"version":3,"sources":["app.module.js","class/class.module.js","user/user.module.js","class/class.controller.js","class/class.routes.js","class/first-time-controller.js","core/app.routes.js","core/materialTheme.config.js","core/passwordCheck.directive.js","pages/home.controller.js","user/login.factory.js","user/sign.controller.js","user/user.factory.js","user/username.directive.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["(function(){\n    'use strick';\n\n    angular.module('app', [\n        'ngMaterial',\n        'ngMessages',\n        'ngAnimate',\n        'ui.router',\n        'app.user',\n        'app.class'\n    ])\n    .value('variables', {\n        \"urlApi\": 'http://localhost/sweep-manager/src/API',\n    });\n\n})();\n","(function(){\n    'use strict';\n    \n    angular\n        .module('app.class', [\n            'ui.router',\n            'app.user'\n        ])\n})();\n","(function(){\n    'use strict';\n    \n    angular\n        .module('app.user', [\n            'ui.router'\n        ])\n})();","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .controller('ClassController', ClassController);\n\n    ClassController.$inject = ['loginFactory', 'userFactory', '$mdDialog', 'orderByFilter', '$state'];\n\n    function ClassController(loginFactory, userFactory, $mdDialog, orderByFilter, $state) {\n        var vm = this;\n        vm.className = loginFactory.getUser().user_class;\n        vm.editStudants = editStudants;\n        vm.editStudantDialog = editStudantDialog;\n        vm.exit = exit;\n        vm.newStudantDialog = newStudantDialog;\n        vm.notSelected = notSelected;\n        vm.removeStudant = removeStudant;\n        vm.someoneStudant = someoneStudant;\n        vm.studants = orderStudants(loginFactory.getUser().studants);\n        vm.sweep = sweep;\n        vm.toggleSelecteds = toggleSelecteds;\n\n\n        vm.$onInit = function () {\n            if (!vm.studants) {\n                vm.studants = [];\n            }\n        }\n\n        /* Private */\n        function exit() {\n            $state.go('home');\n        }\n\n        function convertSelectsStudants(selecteds) {\n            var studantsKeys = [];\n            for (var key in selecteds) {\n                if (selecteds[key]) {\n                    studantsKeys.push(new Number(key));\n                }\n            }\n            var studantsSelects = [];\n            for (var key in studantsKeys) {\n                studantsSelects.push(vm.studants[studantsKeys[key]]);\n            }\n            return studantsSelects;\n        }\n\n        function orderStudants(studants) {\n            studants = angular.forEach(studants, function (studant) {\n                studant.times = new Number(studant.times);\n            });\n            return orderByFilter(studants, ['times', 'name']);\n        }\n\n        function objectToArray(object) {\n            var array = [];\n            angular.forEach(object, function (item) {\n                array.push(item);\n            });\n            return array;\n        }\n\n        /* Publics */\n        function editStudantDialog($event, studants, callback) {\n            var body = angular.element(document.body);\n            $mdDialog.show({\n                parent: body,\n                targetEvent: $event,\n                templateUrl: 'app/class/edit-studant-dialog.html',\n                locals: {\n                    editStudants: angular.copy(studants),\n                    callback: callback\n                },\n                controller: EditStudantDialogController,\n                controllerAs: 'vm'\n            });\n\n            EditStudantDialogController.$inject = ['editStudants', 'callback', '$mdDialog', 'userFactory'];\n\n            function EditStudantDialogController(editStudants, callback, $mdDialog, userFactory) {\n                var vm = this;\n                vm.close = close;\n                vm.editStudants = editStudants;\n                vm.callbackEditStudant = callback;\n                vm.studants = angular.copy(convertSelectsStudants(studants));\n\n                function close() {\n                    $mdDialog.hide();\n                }\n\n                function editStudants(editStudants, callback) {\n\n                    userFactory.editStudants(editStudants).then(function (result) {\n                        callback(editStudants);\n                    });\n                }\n\n            }\n\n        }\n\n        /* Publics */\n        function editStudants(studants) {\n            vm.studants = vm.studants.map(function (studant) {\n                studants.forEach(function (editStudant) {\n                    if (editStudant.id == studant.id) {\n                        studant = editStudant;\n                    }\n                });\n                return studant;\n            });\n            $mdDialog.hide();\n        }\n\n        function notSelected(swepper, value) {\n            return swepper != value;\n        }\n\n        function newStudantDialog(event) {\n            var confirm = $mdDialog.prompt()\n                .title('Cadastro')\n                .textContent('Preencha o campo abaixo para cadastrar um aluno.')\n                .placeholder('Aluno')\n                .ariaLabel('Aluno')\n                .targetEvent(event)\n                .ok('Adicionar')\n                .cancel('Cancelar');\n\n            $mdDialog.show(confirm).then(function (result) {\n                var data = {\n                    class: loginFactory.getUser().user_id,\n                    name: result\n                };\n                userFactory.createStudant(data).then(function (result) {\n                    var studant = result.data;\n                    vm.studants.push({\n                        id: studant.studant_id,\n                        name: studant.studant_name,\n                        times: studant.studant_times,\n                    });\n                    vm.studants = orderStudants(vm.studants);\n                });\n            });\n        };\n\n        function removeStudant(studants) {\n            var studantsSelects = convertSelectsStudants(studants);\n            userFactory.removeStudants(studantsSelects).then(function () {\n                vm.studants = vm.studants.filter(function (studant) {\n                    angular.copy({}, studants);\n                    return studantsSelects.indexOf(studant) == -1;\n                });\n            });\n        }\n\n        function someoneStudant(studants) {\n            studants = objectToArray(studants);\n            return studants && studants.indexOf(true) != -1;\n        }\n\n        function sweep(studants) {\n            userFactory.sweep(studants);\n            studants = objectToArray(studants);\n            vm.studants = vm.studants.map(function (studant) {\n                if (studants.indexOf(studant) != -1) {\n                    studant.times++;\n                    return studant;\n                }\n                return studant;\n            });\n            vm.studants = orderStudants(vm.studants);\n        }\n\n        function toggleSelecteds(studants, selected) {\n            if (selected) {\n                angular.copy({}, studants);\n            } else {\n                var i = 0;\n                var newSelect = {};\n                angular.forEach(vm.studants, function (studant) {\n                    newSelect[i++] = true;\n                });\n                angular.copy(newSelect, studants);\n            }\n        }\n    }\n})();\n","(function(){\n    'use strict';\n\n    angular\n        .module('app.class')\n        .config(routes)\n\n        routes.$inject = ['$stateProvider'];\n        function routes($stateProvider){\n            $stateProvider\n                .state('class', {\n                    url: '/turma',\n                    templateUrl: 'app/class/class.html',\n                    controller: 'ClassController',\n                    controllerAs: 'vm',\n                    onEnter: ['$state', 'loginFactory',function($state, loginFactory){\n                        if(loginFactory.getUser() == {}) $state.go(\"home\");\n                        if(!loginFactory.getUser().user_id) $state.go(\"home\");\n                        if(!loginFactory.getUser().user_class) $state.go(\"firstTime\");\n                    }]\n                })\n                .state('firstTime', {\n                    url: '/turma/primeiravisita',\n                    templateUrl: 'app/class/first-time.html',\n                    controller: 'FirstTimeController',\n                    controllerAs: 'vm',\n                    onEnter: ['$state', 'loginFactory',function($state, loginFactory){\n                        if(loginFactory.getUser() == {}) $state.go(\"home\");\n                        if(!loginFactory.getUser().user_id) $state.go(\"home\");\n                        if(loginFactory.getUser().user_class) $state.go(\"class\");\n                    }]\n                })\n        }\n\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.class')\n        .controller('FirstTimeController', FirstTimeController);\n\n    FirstTimeController.$inject = ['userFactory', 'loginFactory', '$state'];\n\n    function FirstTimeController(userFactory, loginFactory, $state) {\n        var vm = this;\n        vm.setClass = setClass;\n\n        function setClass(className) {\n            var data = {\n                className: className\n            }\n            userFactory.defineClassName(data);\n            loginFactory.getUser().user_class = className;\n            $state.go('class');\n        }\n    }\n})();\n","(function(){\n    'use strick';\n\n    angular\n        .module('app')\n        .config(routes)\n    \n    routes.$inject = ['$locationProvider', '$stateProvider', '$urlRouterProvider'];\n    function routes ($locationProvider, $stateProvider, $urlRouterProvider) {\n        $stateProvider\n            .state({\n                name: 'home',\n                url: '/',\n                controller: \"homeController\",\n                controllerAs: \"homeVm\",\n                templateUrl: \"app/pages/home.html\" \n            });\n        $urlRouterProvider.otherwise('/');\n    }\n    \n})();","(function () {\n    'use strict';\n\n    angular\n        .module('app')\n        .config(materialTheme)\n\n    materialTheme.$inject = ['$mdThemingProvider'];\n\n    function materialTheme($mdThemingProvider) {\n        $mdThemingProvider\n            .theme('default')\n            .primaryPalette('teal')\n            .accentPalette('indigo');\n    };\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app')\n        .directive('passwordCheck', passwordCheck);\n\n    passwordCheck.$inject = [];\n\n    function passwordCheck() {\n        var directive = {\n            require: 'ngModel',\n            link: link,\n            restrict: 'A',\n            scope: {\n                passwordCheck: \"=passwordCheck\"\n            },\n        };\n        return directive;\n\n        function link(scope, element, attrs, controller) {\n            controller.$validators.passwordCheck = function (modelValue, viewValue) {\n                return scope.passwordCheck === modelValue;\n            }\n        }\n    }\n})();\n","(function() {\n    'use strict';\n\n    angular\n        .module('app')\n        .controller('homeController', homeController);\n\n    homeController.$inject = ['$state','loginFactory', 'userFactory'];\n    function homeController($state, loginFactory, userFactory){\n        var vm = this;            \n        \n        //Variables\n        vm.signin = {};\n        vm.isUserAvailability = 1;\n        vm.userAction = 'login';  \n        \n        //Functions\n        vm.isAction = isAction;\n        vm.setAction = setAction;\n        vm.userCreated = userCreated;\n        vm.userLogged = userLogged;\n        \n        //Publics\n        function isAction(action){\n            return vm.userAction === action;\n        }\n        \n        function setAction(action){\n            vm.userAction = action;\n        }\n        \n        function userCreated(user){\n            userFactory.login(user).then(function(result){\n                userLogged(result.data);\n            });\n        }\n\n        function userLogged(){\n            $state.go(\"class\");\n        }\n        \n    }\n})();\n","(function(){\n    'use strict';\n    \n    angular\n        .module('app.user')\n        .factory('loginFactory', loginFactory);\n    \n    loginFactory.$inject = [];\n    function loginFactory(){\n        var user = false;\n        \n        var service = {\n            getUser: getUser,\n            setUser: setUser,\n            cleanUser: cleanUser\n        }\n        return service;\n        \n        function getUser(){\n            return user;\n        }\n        \n        function setUser(newUser){\n            user = newUser;\n        }\n        \n        function cleanUser(){\n            setUser(false);\n        }\n\n    }\n})();\n","(function() {\n    'use strict';\n\n    angular\n        .module('app.user')\n        .controller('SignController', SignController);\n\n    SignController.$inject = ['$rootScope', '$scope','userFactory', 'loginFactory'];\n    function SignController($rootScope, $scope, userFactory, loginFactory){\n        var vm = this;\n        vm.create = create;\n        vm.login = login;\n        vm.logout = logout;\n\n        function create(user, form, success, error){\n            var userData = angular.copy(user);\n            angular.copy({}, user);\n            userFactory.create(userData).then(function(result){\n                if($scope[form]){\n                    $scope[form].$setUntouched();\n                    $scope[form].$setPristine();\n                }\n                success(userData);\n            });\n        }\n\n        function login(user, form, success, error){\n            var userData = angular.copy(user);\n            angular.copy({}, user)\n            userFactory.login(userData).then(function(result){\n                if(result.data){\n                    if($scope[form]){\n                        $scope[form].$setUntouched();\n                        $scope[form].$setPristine();\n                    }\n                    loginFactory.setUser(result.data);\n                    success(result.data);\n                }\n            });\n        }\n\n        function logout(callback){\n            loginFactory.cleanUser();\n            callback();\n        }\n    }\n})();\n","(function () {\n    'use strict';\n    angular\n        .module('app.user')\n        .service('userFactory', userFactory);\n\n    userFactory.$inject = ['$http', 'variables', '$location', 'loginFactory'];\n\n    function userFactory($http, variables, $location, loginFactory) {\n        var service = {\n            checkAvailability: checkAvailability,\n            create: create,\n            createStudant: createStudant,\n            editStudants: editStudants,\n            defineClassName: defineClassName,\n            login: login,\n            removeStudants: removeStudants,\n            sweep: sweep\n        }\n        return service;\n\n        function checkAvailability(username) {\n            return $http.get(variables.urlApi + '/users/checkAvailability/' + username);\n        };\n\n        function create(data) {\n            return $http.post(variables.urlApi + '/users', data);\n        };\n\n        function createStudant(data){\n            data.action = \"createStudant\";\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function editStudants(studants){\n            var data = {\n                action: 'editStudants',\n                studants: studants\n            };\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function defineClassName(data) {\n            data.action = \"defineClass\";\n            data.id = loginFactory.getUser().user_id;\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function login(data) {\n            return $http.post(variables.urlApi + '/login', data);\n        };\n\n        function removeStudants(studants){\n            var data = {\n                studants: studants,\n                action: \"removeStudant\"\n            };\n            return $http.post(variables.urlApi + '/users', data);\n        }\n\n        function sweep(studants) {\n            var data = {};\n            data.action = \"sweep\";\n            data.studants = studants;\n            return $http.post(variables.urlApi + '/users', data);\n        };\n\n\n    }\n})();\n","(function () {\n    'use strict';\n\n    angular\n        .module('app.user')\n        .directive('username', username);\n\n    username.$inject = ['userFactory', '$timeout', '$q'];\n\n    function username(userFactory, $timeout, $q) {\n        var directive = {\n            require: 'ngModel',\n            link: link,\n            restrict: 'A',\n        };\n        return directive;\n\n        function link(scope, element, attrs, controller) {\n            controller.$asyncValidators.username = function (modelValue, viewValue) {\n\n                var defer = $q.defer();\n\n                userFactory.checkAvailability(modelValue)\n                  .then(function (result) {\n                      if(result.data.available){\n                          defer.resolve();\n                      }else{\n                          defer.reject();\n                      }\n                  })\n\n                return defer.promise;\n            };\n        }\n    }\n})();\n"]}